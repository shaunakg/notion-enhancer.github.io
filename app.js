var K=Object.defineProperty;var n=(e,t)=>K(e,"name",{value:t,configurable:!0});import oe,{platformModifier as se,registerHotkey as ae}from"https://deno.land/x/psyche@v0.3.2/client/psyche.min.mjs";var u=[],i=n(e=>u.push(e),"onRouteChange"),l=n(e=>e.replace(/\/$/,"")+(e.split("/").reverse()[0].includes(".")?"":"/"),"normalisePathname"),d=n(e=>l(e.pathname)+e.search,"normaliseRoute"),L=n(e=>location.origin===e.origin,"matchesOrigin"),j=n(e=>l(location.pathname)===l(e.pathname),"matchesPathname"),G=n(e=>location.search===e.search,"matchesQuery"),W=n(e=>{let t=l(e.pathname);return t.endsWith("/")||t.endsWith(".html")},"isHtmlPage"),N=n(e=>L(e)&&j(e)&&G(e),"isSamePage"),h=n(e=>W(e)&&L(e),"isRoutablePage"),Q=n(e=>f.has(l(e.pathname)),"hasCachedRes"),V=n(e=>p.has(e),"hasCachedBody"),f=new Map,p=new Map,b=n(e=>{if(!h(e))return null;let t=d(e);return Q(e)||f.set(t,fetch(t)),f.get(t)},"getRoutableRes"),z=n(async e=>{if(!h(e))return null;let t=b(e);return V(t)||p.set(t,await(await t).text()),p.get(t)},"getRoutableBody"),J=n(e=>{let t=getComputedStyle(e).position;for(;e.parentElement&&t!=="fixed";){e=e.parentElement;let s=getComputedStyle(e),o=t==="absolute"&&s.position==="static",r=/(auto|scroll)/.test(s.overflow+s.overflowY+s.overflowX);if(!o&&r)return e}return document.body},"getScrollParent"),y=n(e=>{let t=document.getElementById(e);t&&J(t).scrollTo({top:t.offsetTop})},"scrollTo"),w=n((e,t)=>new Promise((s,o)=>{e.animate(...t).onfinish=()=>s(!0)}),"promisifyAnimation"),Z=n((e,t,s)=>{let o=document.createElement("div");return o.style.position="absolute",o.style.height="2px",o.style.width=`${e}%`,o.style.top="0",o.style.left="0",o.style.background="rgba(147,197,253)",{$progressBar:o,animationFinished:w(o,[[{width:`${e}%`},{width:`${t}%`}],{duration:s,easing:"ease-out"}]).then(()=>o.style.width=`${t}%`)}},"animateProgress"),ee=n(async(e,t)=>{await w(e,[[{opacity:1},{opacity:0}],{duration:t,easing:"ease-out"}]),e.remove()},"animateFadeOut"),M=d(new URL(location.href)),R=n(async e=>{let{$progressBar:t,animationFinished:s}=Z(0,100,500);document.body.append(t),document.activeElement?.blur?.();let o=document.implementation.createHTMLDocument();o.documentElement.innerHTML=await z(e),document.title=o.title,document.body.replaceWith(o.body),document.body.append(t),await s,requestAnimationFrame(()=>ee(t,250)),e.hash&&y(e.hash.slice(1)),M=d(e),u.forEach(r=>r())},"navigateToRoute"),T=n(e=>e.composedPath().find(o=>o instanceof Element&&o.matches("a[href]")),"findAnchor"),te=n(e=>{let t=T(e);if(t){let s=new URL(t.href);b(s)}},"mousemoveListener"),ne=n(e=>{let t=T(e);if(t){if(e.ctrlKey)return;let o=new URL(t.href);h(o)&&(e.preventDefault(),N(o)?o.hash&&(history.replaceState(null,"",o),y(o.hash.slice(1))):(history.pushState(null,"",o),R(o)))}},"clickListener"),$=n(()=>{M===location.pathname?y(location.hash.slice(1)):R(new URL(location.href))},"popstateListener"),k=n(()=>{u.forEach(e=>e()),globalThis.addEventListener("popstate",$),document.addEventListener("mousemove",te),document.addEventListener("click",ne),$()},"initRouter");var g=1.01,S=.008,P=300,c={enabled:!0,width:64,height:64},a=document.createElement("div");a.style.width=`${c.width}px`;a.style.height=`${c.height}px`;a.style.position="absolute";a.style.borderRadius="100%";a.style.filter="blur(5rem)";a.style.backgroundColor="white";a.style.pointerEvents="none";a.style.opacity="0";var H=n((e,t=0)=>e instanceof HTMLElement?H(e.offsetParent,t+e.offsetTop):t,"offsetTop"),U=n((e,t=0)=>e instanceof HTMLElement?U(e.offsetParent,t+e.offsetLeft):t,"offsetLeft"),x=n(e=>e.target.closest("[data-tilt]"),"getTilt"),C=n(e=>{let t=x(e);t.style.transitionDuration="";let{width:s,height:o}=t.getBoundingClientRect(),r=Math.abs(e.clientY-H(t)),I=Math.abs(e.clientX-U(t)),X=(o/2-r)*S,Y=(s/2-I)*-S,_=`perspective(1000px) rotateX(${X}deg) rotateY(${Y}deg) scale3d(${g}, ${g}, ${g})`;t.style.transform=_},"mousemoveTilt"),q=n(e=>{let t=x(e);t.style.transitionDuration=`${P}ms`,t.style.transform=""},"mouseleaveTilt"),A=n(e=>{a.style.transitionDuration="",a.style.opacity="0.1",a.style.top=`${e.clientY-c.height/2}px`,a.style.left=`${e.clientX-c.width/2}px`},"mousemoveGlow"),D=n(e=>{a.style.transitionDuration=`${P}ms`,a.style.opacity="0"},"mouseleaveGlow"),O=n(()=>{for(let e of document.querySelectorAll("[data-tilt]"))e.removeEventListener("mousemove",C),e.removeEventListener("mouseleave",q),e.addEventListener("mousemove",C),e.addEventListener("mouseleave",q),c.enabled&&(e.removeEventListener("mousemove",A),e.removeEventListener("mouseleave",D),e.addEventListener("mousemove",A),e.addEventListener("mouseleave",D),document.body.append(a))},"tiltElements");var m=n((e,t,s)=>{e.removeEventListener(t,s),e.addEventListener(t,s)},"eventListener"),v=n(()=>document.querySelector("aside[aria-label='menu']"),"getMenu"),B=n(()=>{let e=v();e&&e.style.removeProperty("--tw-translate-x")},"closeMenu"),re=n(()=>{let e=v();e&&(e.style.getPropertyValue("--tw-translate-x")?B():e.style.setProperty("--tw-translate-x","0"))},"toggleMenu"),ie=n(()=>{let e=v();if(!e)return;let t=document.querySelector("[data-action='toggle-menu']"),s=[document.querySelector("figure[role='banner']"),document.querySelector("header"),document.querySelector("article"),...e.querySelectorAll("a")].filter(o=>o);t&&m(t,"click",re);for(let o of s)m(o,"click",B)},"initMenu"),F=n(()=>{document.documentElement.classList.toggle("dark");let e=document.documentElement.classList.contains("dark");localStorage.theme=e?"dark":"light"},"toggleTheme"),le=n(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"",t=localStorage.theme;(t==="dark"||!t&&e==="dark")&&document.documentElement.classList.add("dark"),document.querySelectorAll("[data-action='toggle-theme']").forEach(o=>m(o,"click",F)),document.documentElement.classList.remove("hidden")},"initTheme"),E=oe({theme:{font:{sans:"Inter",mono:"Fira Code"},light:{accent:"#a78bfa"},dark:{accent:"#d8b4fe"},scrollbarStyle:"square"},hotkeys:[{kbd:`${se} + SHIFT + L`,label:"to toggle theme"}],index:await fetch("/search.json").then(e=>e.json())}),ce=n(()=>{document.querySelectorAll("[data-action='open-search']").forEach(t=>m(t,"click",E.open)),E.unregister(),E.register()},"initSearch");ae({key:"l",platformModifier:!0,shiftKey:!0,onkeydown:e=>{e.preventDefault(),F()}});i(ie);i(le);i(ce);i(O);k();
